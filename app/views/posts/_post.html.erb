<%= turbo_frame_tag dom_id(post) do %>
  <%= link_to post, class: "block border rounded-lg dark:border-gray-300 mb-6 p-4 transition-all relative z-0 #{'hover:bg-gray-100/5' if action_name != 'show'}", data: { turbo: false } do %>
    <div class="flex items-center justify-between">
      <div>
        <img src="<%= post.user.avatar %>" alt="Avatar de <%= post.user.handle %>" class="aspect-square w-8 inline">
        <span>@<%= post.user.handle %></span>
      </div>
      <div class="flex items-center">
        <span class="text-gray-500">
          <%- if post.created_at < 1.minute.ago %>
            <%= post.relative_created_at %>
          <%- else %>
            à l'instant
          <% end %>
        </span>
        <div data-controller="post-actions" class="relative z-10 pl-2" data-post-actions-edit-url-value="<%= edit_post_path(post) %>">
          <span data-action="click->post-actions#edit:prevent" class="cursor-pointer block">🖊️</span>
        </div>
      </div>
    </div>
    <p class="mt-5">
      <%= post.body %>
    </p>
  <% end %>
<% end %>
